<%- content_for :action_cable_channels do %>
  <%= javascript_include_tag 'channels/comments' %>
<% end %>

<div class="articles-show" data-article-id="<%= @article.id %>">
  <p id="notice"><%= notice %></p>

  <p>
    <strong>Title:</strong>
    <%= @article.title %>
  </p>

  <div class="article-body">
    <strong>Body:</strong>
    <%= markdown @article.body %>
  </div>

  <p>
    <strong>Writer:</strong>
    <li>
    	<%= link_to account_path(@article.user) do %>
         <%= @article.user.name %>
      <% end %>  	
    </li>    
  </p>
  
  <%= render partial: "comment_form", locals: { parent_comment: nil } %>
  <div class="comments-list">
    <% @comments.each do |comment| %>
      <%= render partial: "comment", locals: { comment: comment } %>
    <% end %> 
  </div>

  <% if policy(@article).update? %>
  	<%= link_to 'Edit', edit_article_path(@article) %> |
  <% end %>

  <% if policy(@article).destroy? %>
  	<%= link_to 'Destroy', @article, method: :delete, data: { confirm: 'Are you sure?' } %> |
  <% end %>
  <%= link_to 'Back', articles_path %>
</div>